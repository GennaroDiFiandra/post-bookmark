document.addEventListener("DOMContentLoaded",()=>{var t=document.querySelector(".bookmark-me-button");t&&t.addEventListener("click",BookmarkMeButtonHandler)});let BookmarkMeButtonHandler={handleEvent:async function(t){t.preventDefault();var e=this.getGlobalData(t),e=this.preparePostRequestData(e),e=await this.doPostRequest(e);e&&this.hideBookmarkMeButton(t),e&&this.showBookmarkedPostsButton()},getGlobalData:function(t){var{ajaxUrl:e,nonce:a}=BookmarkMeButtonData;return{ajaxUrl:e,nonce:a,postId:t.target.dataset.postid,userId:t.target.dataset.userid}},preparePostRequestData:function({ajaxUrl:t,nonce:e,postId:a,userId:o}){t=new URL(t),t.searchParams.set("action","bookmark_me_button"),t.searchParams.set("nonce",e),t.searchParams.set("post_id",a),t.searchParams.set("user_id",o),e=t.search;return{url:t,headers:new Headers({"Content-Type":"application/json"}),payload:e}},doPostRequest:async function({url:t,headers:e,payload:a}){e={method:"POST",headers:e,credentials:"same-origin",body:JSON.stringify(a)};let o;try{var s=await fetch(t,e);if(!s.ok)throw`Status code ${s.status} - bad response from the server`;o=!0}catch(t){console.error(t),o=!1}return o},hideBookmarkMeButton:function(t){t.target.style.display="none"},showBookmarkedPostsButton:function(){var t=document.querySelector(".bookmarked-posts-button");t&&!t.classList.contains("_active")&&t.classList.add("_active")}};
document.addEventListener("DOMContentLoaded",()=>{var t=document.querySelector(".bookmarked-posts-list");t&&t.addEventListener("click",BookmarkedPostsListHandler)});let BookmarkedPostsListHandler={handleEvent:async function(t){t.target.classList.contains("bookmarked-posts-item-del")&&(t.preventDefault(),t=this.getGlobalData(t),t=this.preparePostRequestData(t),t=await this.doPostRequest(t))&&this.updatePostsList(t)},getGlobalData:function(t){var{ajaxUrl:e,nonce:a}=BookmarkedPostsListData,t=t.target;return{ajaxUrl:e,nonce:a,postId:t.dataset.postid,userId:t.dataset.userid,target:t.closest(".bookmarked-posts-item")}},preparePostRequestData:function({ajaxUrl:t,nonce:e,postId:a,userId:s,target:o}){t=new URL(t),t.searchParams.set("action","bookmarked_posts_list"),t.searchParams.set("nonce",e),t.searchParams.set("post_id",a),t.searchParams.set("user_id",s),e=t.search;return{url:t,headers:new Headers({"Content-Type":"application/json"}),payload:e,target:o}},doPostRequest:async function({url:t,headers:e,payload:a,target:s}){e={method:"POST",headers:e,credentials:"same-origin",body:JSON.stringify(a)};let o;try{var r=await fetch(t,e);if(!r.ok)throw`Status code ${r.status} - bad response from the server`;o=s}catch(t){console.error(t),o=!1}return o},updatePostsList:function(t){t.remove()}};
//# sourceMappingURL=generated-scripts.js.map
