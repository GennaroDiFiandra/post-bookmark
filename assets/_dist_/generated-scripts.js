"use strict";document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelector(".bookmark-me-button");e&&e.addEventListener("click",BookmarkMeButtonHandler)});const BookmarkMeButtonHandler={handleEvent:async function(e){e.preventDefault();var t=BookmarkMeButtonHandler.getGlobalData(e),t=BookmarkMeButtonHandler.preparePostRequestData(t);await BookmarkMeButtonHandler.doPostRequest(t),BookmarkMeButtonHandler.hideBookmarkMeButton(e),BookmarkMeButtonHandler.showBookmarkedPostsButton()},getGlobalData:function(e){var{ajaxUrl:t,nonce:a}=BookmarkMeButtonData;return{ajaxUrl:t,nonce:a,postId:e.target.dataset.postid,userId:e.target.dataset.userid}},preparePostRequestData:function({ajaxUrl:e,nonce:t,postId:a,userId:o}){e=new URL(e),e.searchParams.set("action","bookmark_me_button"),e.searchParams.set("nonce",t),e.searchParams.set("post_id",a),e.searchParams.set("user_id",o),t=e.search;return{url:e,headers:new Headers({"Content-Type":"application/json"}),payload:t}},doPostRequest:async function({url:e,headers:t,payload:a}){t={method:"POST",headers:t,credentials:"same-origin",body:JSON.stringify(a)},a=await fetch(e,t);if(!a.ok)throw new Error(`Status code ${a.status} - bad response from the server`)},hideBookmarkMeButton:function(e){e.target.style.display="none"},showBookmarkedPostsButton:function(){var e=document.querySelector(".bookmarked-posts-button");e&&!e.classList.contains("_active")&&e.classList.add("_active")}};
"use strict";document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelector(".bookmarked-posts-list");e&&e.addEventListener("click",BookmarkedPostsListHandler)});const BookmarkedPostsListHandler={handleEvent:async function(e){e.preventDefault();e=BookmarkedPostsListHandler.getGlobalData(e),e=BookmarkedPostsListHandler.preparePostRequestData(e),e=await BookmarkedPostsListHandler.doPostRequest(e);BookmarkedPostsListHandler.updatePostsList(e)},getGlobalData:function(e){var{ajaxUrl:t,nonce:s}=BookmarkedPostsListData,e=e.target;return e.classList.contains("bookmarked-posts-item")?{ajaxUrl:t,nonce:s,postId:e.children[0].dataset.postid,userId:e.children[0].dataset.userid,target:e}:e.classList.contains("bookmarked-posts-item-ref")?{ajaxUrl:t,nonce:s,postId:e.dataset.postid,userId:e.dataset.userid,target:e.closest(".bookmarked-posts-item")}:void 0},preparePostRequestData:function({ajaxUrl:e,nonce:t,postId:s,userId:a,target:o}){e=new URL(e),e.searchParams.set("action","bookmarked_posts_list"),e.searchParams.set("nonce",t),e.searchParams.set("post_id",s),e.searchParams.set("user_id",a),t=e.search;return{url:e,headers:new Headers({"Content-Type":"application/json"}),payload:t,target:o}},doPostRequest:async function({url:e,headers:t,payload:s,target:a}){t={method:"POST",headers:t,credentials:"same-origin",body:JSON.stringify(s)},s=await fetch(e,t);if(s.ok)return a;throw new Error(`Status code ${s.status} - bad response from the server`)},updatePostsList:function(e){e.remove()}};
//# sourceMappingURL=generated-scripts.js.map
